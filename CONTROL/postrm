#!/bin/sh

#########################################################
#                                                       #
#  Vavoo Maker Playlists - Post-removal Script          #
#  Version: 1.0                                         #
#  Created by Lululla (https://github.com/Belfagor2005) #
#  License: CC BY-NC-SA 4.0                             #
#  Last Modified: 20251120                              #
#                                                       #
#  Usage without proper attribution is prohibited       #
#########################################################

echo "==================================================="
echo "    Vavoo Maker Playlists - Removal                "
echo "==================================================="

# Remove plugin directory
PLUGIN_DIR="/usr/lib/enigma2/python/Plugins/Extensions/vavoo-maker"
if [ -d "$PLUGIN_DIR" ]; then
    echo "Removing plugin files..."
    rm -rf "$PLUGIN_DIR" > /dev/null 2>&1
    echo "✓ Plugin files removed successfully"
else
    echo "✓ Plugin directory not found (already removed)"
fi

# Clean temporary files
if [ -d "/tmp/vavoo" ]; then
    echo "Cleaning temporary files..."
    rm -rf "/tmp/vavoo" > /dev/null 2>&1
    echo "✓ Temporary files cleaned"
fi

# Clean cache files
CACHE_FILES="/tmp/vavoo.cache /tmp/vavoo_*"
for cache_file in $CACHE_FILES; do
    if [ -f "$cache_file" ]; then
        rm -f "$cache_file" > /dev/null 2>&1
    fi
done
echo "✓ Cache files cleaned"

echo "==================================================="
echo "✓ Vavoo Maker Playlists completely removed"
echo "✓ Restart Enigma2 to complete removal"
echo "==================================================="

exit 0
